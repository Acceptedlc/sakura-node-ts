{"version":3,"sources":["../src/base/decorator.ts"],"names":[],"mappings":";AAGA,wBAAsC,SAAS,CAAC,CAAA;AAChD,qCAAiC,4BAA4B,CAAC,CAAA;AAM9D,mBAA0B,IAAY;IACpC,MAAM,CAAC,UAAS,MAAgB;QAC9B,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,YAAY,aAAK,CAAC,CAAC,CAAC;YACtC,uCAAkB,CAAC,mBAAmB,CAAC,EAAC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;QACvE,CAAC;IACH,CAAC,CAAA;AACH,CAAC;AANe,iBAAS,YAMxB,CAAA;AAQD,gBAAuB,IAAY,EAAE,IAAa,EAAE,IAAa;IAC/D,MAAM,CAAC,UAAU,MAAc,EAAE,YAAoB;QACnD,EAAE,CAAC,CAAC,MAAM,YAAY,aAAK,CAAC,CAAC,CAAC;YAC5B,uCAAkB,CAAC,WAAW,CAAC,MAAM,CAAC,WAAW,EAC/C,EAAE,IAAI,EAAE,YAAY,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;QACtE,CAAC;IACH,CAAC,CAAA;AACH,CAAC;AAPe,cAAM,SAOrB,CAAA","file":"decorator.js","sourcesContent":["// Copyright 2016 Frank Lin (lin.xiaoe.f@gmail.com). All rights reserved.\n// Use of this source code is governed a license that can be found in the LICENSE file.\n\nimport {Model, SqlType, SqlFlag} from \"./model\";\nimport {applicationContext} from \"../util/applicationcontext\";\n\n/**\n * Class decorator for defining a table name, the class should inherits from {@link Model}.\n * @param name Table name.\n */\nexport function TableName(name: string): Function {\n  return function(target: Function) {\n    if (target.prototype instanceof Model) {\n      applicationContext.addSqlTableRelation({target: target, name: name});\n    }\n  }\n}\n\n/**\n * Property decorator for defining column name, the target should inherits from {@link Model}.\n * @param name Column name.\n * @param type Column type.\n * @param flag Some other indicator.\n */\nexport function Column(name: string, type: SqlType, flag: SqlFlag): Function {\n  return function (target: Object, propertyName: string) {\n    if (target instanceof Model) {\n      applicationContext.addSqlField(target.constructor,\n        { name: propertyName, columnName: name, type: type, flag: flag });\n    }\n  }\n}\n"]}