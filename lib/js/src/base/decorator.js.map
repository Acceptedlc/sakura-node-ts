{"version":3,"sources":["../src/base/decorator.ts"],"names":[],"mappings":";AAGA,wBAAuD,SAAS,CAAC,CAAA;AACjE,6BAAyB,oBAAoB,CAAC,CAAA;AAM9C,mBAA0B,IAAY;IACpC,MAAM,CAAC,UAAS,MAAgB;QAC9B,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,YAAY,aAAK,CAAC,CAAC,CAAC;YACtC,uBAAU,CAAC,mBAAmB,CAAC,EAAC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;QAC/D,CAAC;IACH,CAAC,CAAC;AACJ,CAAC;AANe,iBAAS,YAMxB,CAAA;AAUD,gBAAuB,IAAY,EAAE,IAAa,EAAE,IAAa,EAAE,OAAgB,EAAE,YAA8B;IACjH,MAAM,CAAC,UAAU,MAAc,EAAE,YAAoB;QACnD,EAAE,CAAC,CAAC,MAAM,YAAY,aAAK,CAAC,CAAC,CAAC;YAC5B,uBAAU,CAAC,WAAW,CAAC,MAAM,CAAC,WAAW,EACvC,EAAE,IAAI,EAAE,YAAY,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE,CAAC,CAAC;QACpH,CAAC;IACH,CAAC,CAAC;AACJ,CAAC;AAPe,cAAM,SAOrB,CAAA","file":"decorator.js","sourcesContent":["// Copyright 2016 Frank Lin (lin.xiaoe.f@gmail.com). All rights reserved.\n// Use of this source code is governed a license that can be found in the LICENSE file.\n\nimport {Model, SqlType, SqlFlag, SqlDefaultValue} from './model';\nimport {sqlContext} from '../util/sqlcontext';\n\n/**\n * Class decorator for defining a table name, the class should inherits from {@link Model}.\n * @param name Table name.\n */\nexport function TableName(name: string): Function {\n  return function(target: Function) {\n    if (target.prototype instanceof Model) {\n      sqlContext.addSqlTableRelation({target: target, name: name});\n    }\n  };\n}\n\n/**\n * Property decorator for defining column name, the target should inherits from {@link Model}.\n * @param name Column name.\n * @param type Column type.\n * @param flag Some other indicator.\n * @param comment Comment of column.\n * @param defaultValue Default value of column.\n */\nexport function Column(name: string, type: SqlType, flag: SqlFlag, comment?: string, defaultValue?: SqlDefaultValue): Function {\n  return function (target: Object, propertyName: string) {\n    if (target instanceof Model) {\n      sqlContext.addSqlField(target.constructor,\n        { name: propertyName, columnName: name, type: type, flag: flag, comment: comment, defaultValue: defaultValue });\n    }\n  };\n}\n"]}