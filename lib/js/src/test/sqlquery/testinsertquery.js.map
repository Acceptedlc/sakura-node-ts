{"version":3,"sources":["../src/test/sqlquery/testinsertquery.ts"],"names":[],"mappings":";;;;;;;AAAA,6BAA6B;AAE7B,4DAAuD;AACvD,4CAAyD;AACzD,oDAAuD;AAGvD,IAAM,IAAI,GAAV,UAAW,SAAQ,aAAK;IActB,aAAa,CAAC,QAAgB,EAAG,WAAoB,EAAE,GAAY;QACjE,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACjB,CAAC;CACF,CAAA;AAhBC;IADC,kBAAM,CAAC,KAAK,EAAE,eAAO,CAAC,GAAG,EAAE,eAAO,CAAC,WAAW,CAAC;iCACpC;AAGZ;IADC,kBAAM,CAAC,UAAU,EAAE,eAAO,CAAC,WAAW,EAAE,eAAO,CAAC,QAAQ,CAAC;sCACzC;AAGjB;IADC,kBAAM,CAAC,cAAc,EAAE,eAAO,CAAC,WAAW,EAAE,eAAO,CAAC,QAAQ,CAAC;yCAC1C;AAGpB;IADC,kBAAM,CAAC,KAAK,EAAE,eAAO,CAAC,GAAG,EAAE,eAAO,CAAC,QAAQ,CAAC;iCACjC;AAZR,IAAI;IADT,qBAAS,CAAC,OAAO,CAAC;GACb,IAAI,CAmBT;AAED,QAAQ,CAAC,mBAAmB,EAAE;IAC5B,EAAE,CAAC,oBAAoB,EAAE;QACvB,IAAI,IAAI,GAAS,IAAI,IAAI,EAAE,CAAC;QAC5B,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1B,MAAM,GAAG,GAAW,IAAI,yBAAW,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC;QAC9D,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,2DAA2D,CAAC,CAAC;IACzF,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","file":"testinsertquery.js","sourcesContent":["import * as chai from 'chai';\n\nimport {InsertQuery} from '../../sqlquery/insertquery';\nimport {SqlType, Model, SqlFlag} from '../../base/model';\nimport {TableName, Column} from '../../base/decorator';\n\n@TableName('users')\nclass User extends Model {\n\n  @Column('uid', SqlType.INT, SqlFlag.PRIMARY_KEY)\n  uid: number;\n\n  @Column('username', SqlType.VARCHAR_255, SqlFlag.NOT_NULL)\n  username: string;\n\n  @Column('display_name', SqlType.VARCHAR_255, SqlFlag.NULLABLE)\n  displayName: string;\n\n  @Column('age', SqlType.INT, SqlFlag.NULLABLE)\n  age: number;\n\n  initAsNewUser(username: string,  displayName?: string, age?: number) {\n    this.username = username;\n    this.displayName = displayName;\n    this.age = age;\n  }\n}\n\ndescribe('Test insert query', () => {\n  it('insert语句过滤属性为空的sql', () => {\n    let user: User = new User();\n    user.initAsNewUser('pig');\n    const sql: string = new InsertQuery().fromModel(user).build();\n    chai.expect(sql).to.equal(`INSERT INTO users (username) VALUES ('pig') RETURNING uid`);\n  });\n});\n"]}